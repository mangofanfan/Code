# Visual Studio Code
Microsoft Visual Studio Code，简称 Microsoft VS Code，~~中译微软大战代码~~，简称 VSCode，是由微软开发的、开源的代码编辑器。

VSCode 的本体只是代码编辑器，因此你需要进行配置才能愉快地使用它。下面会介绍常用的、好用的插件~

## 下载、安装
VSCode 是跨 Windows、Linux、macOS 的软件，你可以从 [VSCode 官网](https://code.visualstudio.com/) 下载并安装它。

如果你使用 Windows，也可以从 Microsoft Store 下载。

需要稍微注意的是，VSCode 的「为当前用户安装」和「为所有用户安装」两种安装模式的安装包是不通用的。从 Microsoft Store 下载的是为当前用户安装的 VSCode，如果要为所有用户安装，则需要从官网下载，并选择对应的安装程序 `System Installer`。

## 设置
VSCode 的配置可能稍微有一些反直觉，我们首先简要带过其设置结构。

首先，VSCode 可以用于打开文件与文件夹。使用 VSCode 打开文件夹作为项目时，该文件夹即为一个工作区。

### 设置层级
VSCode 的设置是存在层级的。在你没有打开任何项目时，只能查看和修改**用户层级的设置**。

在打开一个工作区之后，你将可以编辑**该工作区层级的设置**。工作区层级的设置会覆盖用户层级的设置，如果其配置与默认配置不同的话。

分类讨论一下，对于同一设置项：
* 如果在用户层级和工作区层级都是默认值，则实际为默认值；
* 如果在用户层级是默认值，在工作区层级被更改，则实际为工作区层级的设置值；
* 如果在用户层级被更改为，在工作区层级未更改，则实际为用户层级的设置值；
* 如果在用户层级和工作区层级都被更改，则实际为工作区层级的设置值。

VSCode 的设置页面有相对清晰的提示，比如你可以在用户层级修改编辑器中的字体，这项修改会对所有的工作区生效：

![VSCode settings 1](/common/img/VSCode-settings-1.png)

![VSCode settings 2](/common/img/VSCode-settings-2.png)

与默认值不同的设置项会以强调色标记。你也可以将其重置为默认。

在 WSL 中打开的工作区会在用户和工作区之间增加一个 WSL 层级，设置项的逻辑类似~

### 保存位置
工作区的 VSCode 设置保存在工作区根目录下的 `.vscode` 目录下的 `settings.json` 文件内，其中存放该工作区内与默认值不同的设置项。

你可以将 `.vscode` 以及其内的文件作为项目的一部分与他人分享。如果其他人也使用 VSCode 打开你的项目，那么他们将自动加载你的工作区设置（虽然这似乎并不好？）。`.vscode` 中不一定只有 `settings.json`，`settings.json` 一般也不应该与他人分享，更应该分享的是 `launch.json`，下面对其介绍。

## 工作区运行配置
一般来说，项目普遍是需要运行和调试的。

VSCode 可以由你定制如何运行与调试一个项目，这将保存在 `.vscode` 中的 `launch.json` 中，这也是一般来说你应该与他人共享的、或者他人应该共享给你的 VSCode 项目有关文件。

但是在开始运行或调试项目之前，你还需要安装项目所需要的扩展。VSCode 的本体似乎有些简陋，但是其丰富的扩展市场弥补了这一缺点。首先你需要安装你的项目所需要的语言，例如 Java、C 或者 Python 的扩展，然后 VSCode 可以帮你创建使用这些语言进行运行和调试的 `launch.json`。

关于针对不同语言如何配置 VSCode，请参见这些语言自己的安装教程~

## 扩展
VSCode 中，好用的扩展千千万，找到你中意的合适扩展可以让你的工作更加赏心悦目。

除了每种语言的专用支持扩展以外，还有一些你可能感兴趣的：
* Code Runner - 快速地运行任何语言的代码文件
* Error Lens - 更好的高亮 Errors 和 Warnings
* GitHub XXX - 与 GitHub 更好地进行各种交互
* GitLens - 更好地检查 git 记录
* Hex Editor - 快速编辑二进制文件，适合偶然应急或闲来无事时研究
* IME and Cursor - 让鼠标光标指示输入法的中英文状态
* Peacock - 给工作区上色，方便区分不同的项目
* Random Something - 中国特色的随机内容生成器，测试项目需要随机内容时有用
* XXX Theme - 好看的主题

## 使用
每次打开 VSCode 时，都将自动打开上一次关闭时正在打开的工作区。

你也可以在终端中使用 `code path/to/dir/or/file` 来打开指定的目录或文件。使用 `code .` 即可打开当前目录下的文件夹作为工作区。

VSCode 会保存最近打开的一系列文件和工作区，你可以在任务栏中右键 VSCode 图标、在 VSCode 内的最近打开中查看它们。
